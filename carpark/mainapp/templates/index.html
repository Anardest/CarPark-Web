{% extends 'base.html' %}
{% load static %}
{% block title %} 
    Главная страница
{% endblock %} 
{% block content %} 
{% block extra_scripts %}
<!-- Подключение внешних JS-файлов -->
<script src="{% static 'js/add_car.js' %}"></script>
<script src="{% static 'js/add_driver.js' %}"></script>
<script src="{% static 'js/add_trip.js' %}"></script>
<script src="{% static 'js/show.js' %}"></script>
<script src="{% static 'js/get_driver_by_id.js' %}"></script>
<script src="{% static 'js/get_car_by_id.js' %}"></script>
<script src="{% static 'js/delete_driver.js' %}"></script>
{% endblock %}
<!-- Карточки -->
<div class="container-fluid mt-6" style="margin-top: 2rem">
  <h1 class="text-center nav-item">Краткие сведения</h1>
  <div class="row">
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Автомобили</h5>
          <p class="card-text">{{ total_cars }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Водители</h5>
          <p class="card-text">{{ total_drivers }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Всего поездок</h5>
          <p class="card-text">{{ total_trips }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Средний пробег</h5>
          <p class="card-text">{{ average_mileage|floatformat:2 }} км</p>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Краткие логи -->
<div class="container-fluid p-lg-2 mt-6" style="margin-top: 2rem">
  <h1 class="text-center nav-item">Последние Действия</h1>
  <table class="table">
    <thead>
      <tr>
        <th>Дата</th>
        <th>Действие</th>
        <th>Детали</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>2023-10-01</td>
        <td>Добавлен автомобиль</td>
        <td>Toyota Camry, 2020</td>
      </tr>
      <tr>
        <td>2023-10-02</td>
        <td>Создана поездка</td>
        <td>Водитель: Иван Иванов, Маршрут: Москва - Санкт-Петербург</td>
      </tr>
      <tr>
        <td>2023-10-01</td>
        <td>Добавлен автомобиль</td>
        <td>Toyota Camry, 2020</td>
      </tr>
      <tr>
        <td>2023-10-01</td>
        <td>Добавлен автомобиль</td>
        <td>Toyota Camry, 2020</td>
      </tr>
    </tbody>
  </table>
</div>
<!-- Уведомления -->

<div class="container-fluid" style="margin-top: 2rem">
  <h1 class="text-center nav-item">Уведомления</h1>
  <div class="alert alert-warning" role="alert">
    <i class="fas fa-exclamation-triangle"></i> 3 автомобиля требуют
    техобслуживания.
  </div>
  <div class="alert alert-warning" role="alert">
    <i class="fas fa-exclamation-triangle"></i> 3 автомобиля требуют
    техобслуживания.
  </div>
</div>

<div class="container-fluid p-lg-2 mt-6" style="margin-top: 2rem">
  <div class="card">
    <div class="card-body">
      <h1 class="text-center nav-item">Управление автопарком</h1>

      <!-- Кнопки для отображения данных -->
      <button id="show-cars" class="btn btn-primary">
        Показать автомобили
      </button>
      <button id="show-drivers" class="btn btn-primary">
        Показать водителей
      </button>
      <button id="show-trips" class="btn btn-primary">Показать поездки</button>

      <!-- Таблица для автомобилей -->
      <table class="table" id="cars-table" style="display: none">
        <thead>
          <tr>
            <th>Марка</th>
            <th>Модель</th>
            <th>Год</th>
            <th>Пробег</th>
            <th>Подробно</th>
          </tr>
        </thead>
        <tbody id="cars-table-body">
          <!-- Сюда будут вставляться строки с данными -->
        </tbody>
      </table>

      <!-- Таблица для водителей -->
      <table class="table" id="drivers-table" style="display: none">
        <thead>
          <tr>
            <th>Фамилия</th>
            <th>Имя</th>
            <th>Дата рождения</th>
            <th>Подробно</th>
          </tr>
        </thead>
        <tbody id="drivers-table-body">
          <!-- Сюда будут вставляться строки с данными -->
        </tbody>
      </table>

      <!-- Таблица для поездок -->
      <table class="table" id="trips-table" style="display: none">
        <thead>
          <tr>
            <th>Начало</th>
            <th>Конец</th>
            <th>Водитель</th>
            <th>Автомобиль</th>
            <th>Начало</th>
            <th>Конец</th>
            <th>Подробно</th>
          </tr>
        </thead>
        <tbody id="trips-table-body">
          <!-- Сюда будут вставляться строки с данными -->
        </tbody>
      </table>
    </div>
  </div>
</div>
<script>
  // ТУТА show
</script>

<!-- Панель управления -->
 
<div class="container mt-5">
    <!-- Раздел Водители-->
    {% include "car_block.html" %}

    <!-- Раздел Водители-->
    {% include "driver_block.html" %}

    <!-- Раздел поездки -->
    {% include "trip_block.html" %}
</div>





{% endblock %}
